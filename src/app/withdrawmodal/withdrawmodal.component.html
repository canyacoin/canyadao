<ng-template #content let-modal>

  <div class="container text-center">

    <div class="modal-header">
      <h5 class="text-center">CONFIRMATION</h5>
      <hr class="my-5">
    </div>

    <div class="modal-body">

      <div *ngIf="typeBtn=='w'">
        <strong class="text-center my-5">You can downgrade your tier, or withdraw all your stake.</strong>
        <p class="text-center">If you remove all your stake you will not be able to access the DAO until you re-lock. All waiting periods will be reset.</p>
        <hr class="my-10">
      </div>

      <div *ngIf="typeBtn=='d'">
        <strong class="text-center my-5">You can downgrade your tier.</strong>
        <p class="text-center">This will apply immediately with no waiting period. Tokens will be unlocked in your wallet.</p>
        <hr class="my-10">
      </div>

      <div *ngIf="typeBtn=='u'">
        <strong class="text-center my-5">You can upgrade your tier!</strong>
        <p class="text-center">Waiting periods began from the first day you entered the DAO. Tokens will be locked in your wallet.</p>
        <hr class="my-10">
      </div>

      <!-- NODE TIER -->
      <div *ngIf="typeBtn=='u'">
        <div class="row text-center mx-5">
          <div class="col-sm-6 text-center">
            <div class="row text-center">
              <strong>{{getName(3)}}</strong>
            </div>
            <div class="row text-center">
              <p>{{convertToLocaleString(getStake(3))}} CAN</p>
            </div>
            <div *ngIf="typeBtn=='u'" class="row text-center">
              <p class="text-muted">Additional: {{convertToLocaleString(getStake(3) - getMemberStake())}} CAN</p>
            </div>
          </div>
          <div *ngIf="typeBtn=='u'" class="col-sm-6 text-center align-self-center">
            <button type="button" class="btn btn-outline btn-primary text-center" (click)="modal.close('Save click')">UPGRADE</button>
          </div>
        </div>
        <hr class="my-10">
      </div>

      <!-- CORE TIER -->
      <div *ngIf="tierDAO=='node' || ((tierDAO=='admin' || tierDAO=='member') && typeBtn=='u')">
        <div class="row text-center mx-5">
          <div class="col-sm-6 text-center">
            <div class="row text-center">
              <strong>{{getName(2)}}</strong>
            </div>
            <div class="row text-center">
              <p>{{convertToLocaleString(getStake(2))}} CAN</p>
            </div>
            <div *ngIf="typeBtn=='w' || typeBtn=='d'" class="row text-center">
              <p class="text-muted">Releases: {{ convertToLocaleString(getMemberStake() - getStake(2))}} CAN</p>
            </div>
            <div *ngIf="typeBtn=='u'" class="row text-center">
              <p class="text-muted">Additional: {{convertToLocaleString(getStake(2) - getMemberStake())}} CAN</p>
            </div>
          </div>
          <div *ngIf="typeBtn=='w' || typeBtn=='d'" class="col-sm-6 text-center align-self-center">
            <button type="button" class="btn btn-outline btn-warning text-center" (click)="modal.close('Save click')">DOWNGRADE</button>
          </div>
          <div *ngIf="typeBtn=='u'" class="col-sm-6 text-center align-self-center">
            <button type="button" class="btn btn-outline btn-primary text-center" (click)="modal.close('Save click')">UPGRADE</button>
          </div>
        </div>
        <hr class="my-10">
      </div>

      <!-- ADMIN TIER -->
      <div *ngIf="(tierDAO=='core' && (typeBtn=='w' || typeBtn=='d'))  || (tierDAO=='node' && (typeBtn=='d' || typeBtn=='w')) || (tierDAO=='member' && typeBtn=='u')">
        <div class="row text-center mx-5">
          <div class="col-sm-6 text-center">
            <div class="row text-center">
              <strong>{{getName(1)}}</strong>
            </div>
            <div class="row text-center">
              <p class="">{{convertToLocaleString(getStake(1))}} CAN</p>
            </div>

            <div *ngIf="typeBtn=='w' || typeBtn=='d'" class="row text-center">
              <p class="text-muted">Releases: {{ convertToLocaleString(getMemberStake() - getStake(1)) }} CAN</p>
            </div>
            <div *ngIf="typeBtn=='u'" class="row text-center">
              <p class="text-muted">Additional:  {{convertToLocaleString(getStake(1) - getMemberStake())}}  CAN</p>
            </div>

          </div>
          <div *ngIf="typeBtn=='w' || typeBtn=='d'" class="col-sm-6 text-center align-self-center">
            <button type="button" class="btn btn-outline btn-warning text-center" (click)="modal.close('Save click')">DOWNGRADE</button>
          </div>
          <div *ngIf="typeBtn=='u'" class="col-sm-6 text-center align-self-center">
            <button type="button" class="btn btn-outline btn-primary text-center" (click)="modal.close('Save click')">UPGRADE</button>
          </div>
        </div>
        <hr class="my-10">
      </div>

      <!-- MEMBER TIER -->
      <div *ngIf="((tierDAO=='admin' || tierDAO=='core') && (typeBtn=='w' || typeBtn=='d')) || (tierDAO=='node' && (typeBtn=='d' || typeBtn=='w'))">
        <div class="row text-center mx-5">
          <div class="col-sm-6 text-center">
            <div class="row text-center">
              <strong>{{getName(0)}}</strong>
            </div>
            <div class="row text-center">
              <p>{{convertToLocaleString(getStake(0))}} CAN</p>
            </div>
            <div class="row text-center">
              <p class="text-muted">Releases: {{ convertToLocaleString(getMemberStake() - getStake(0)) }} CAN</p>
            </div>
          </div>
          <div *ngIf="typeBtn=='w' || typeBtn=='d'" class="col-sm-6 text-center align-self-center">
            <button type="button" class="btn btn-outline btn-warning text-center" (click)="modal.close('Save click')">DOWNGRADE</button>
          </div>
        </div>
        <hr class="my-10">
      </div>





      <!-- WITHDRAW BUTTON -->
      <div *ngIf="typeBtn=='w'">
        <div class="row text-center">
          <div class="col">
            <button type="button" class="btn btn-outline btn-danger text-center" (click)="modal.close('Save click')">WITHDRAW ALL</button>
          </div>
        </div>
      </div>
    </div>




  </div>

</ng-template>

<div *ngIf="typeBtn=='u' && (tierDAO=='member' || tierDAO=='admin' || tierDAO=='core')">
  <button class="btn btn-primary btn-w-xl"
  (click)="open(content)">UPGRADE</button>
</div>
<div *ngIf="typeBtn=='d' && (tierDAO=='admin' || tierDAO=='core' || tierDAO=='node')">
  <button class="btn btn-primary btn-warning btn-w-xl"
  (click)="open(content)">DOWNGRADE</button>
</div>
<div *ngIf="typeBtn=='w'">
  <button class="btn btn-primary btn-danger btn-w-xl"
  (click)="open(content)">WITHDRAW STAKE</button>
</div>
